Solicitações de melhorias no sistema:

1. Devolução de OS (serviço + peça) ✅ CONCLUÍDO
Criar opção de devolução da OS quando o serviço é desfeito.

* A peça utilizada, estando em boas condições, deve retornar automaticamente ao estoque.
* O sistema deve gerar a devolução como reembolso do valor pago pelo cliente ou opção de gerar credito.

2. Impressão na OS ✅ CONCLUÍDO
* ORÇAMENTO (tirar peças que utilizou no serviço) - Sistema agora filtra e mostra apenas peças não baixadas do estoque
* GARANTIA (tempo de garantia ajustável sem tempo fixo) - Permite editar dias antes de imprimir, inclui dados da loja, serviço realizado e observações adicionais 

3. Impressão de ORÇAMENTO ✅ CONCLUÍDO
No modelo de impressão do orçamento, incluir obrigatoriamente:

* Dados da loja: ✅ Nome, endereço, telefone e CNPJ no cabeçalho
* Serviço que será realizado: ✅ Seção dedicada com laudo/diagnóstico
* Problema relatado pelo cliente: ✅ Seção obrigatória destacada em vermelho se vazia
* Estado em que o aparelho chegou: ✅ Destacado em vermelho se não preenchido

4- ✅ CONCLUÍDO - Criar o card de devoluções com credito e reembolso na tela de dashboard

Implementado:
* Adicionado card "Devoluções c/ Crédito" no dashboard com quantidade e total em R$
* Adicionado card "Devoluções s/ Crédito" no dashboard com quantidade e total em R$
* Expandida seção "Quebras e Créditos" para "Quebras, Créditos e Devoluções" com 4 colunas
* Integração com dashboardService para cálculo de devoluções por tipo (com/sem crédito)
* Métricas adicionadas à interface MetricasAdicionais: devolucoes_com_credito_quantidade/total, devolucoes_sem_credito_quantidade/total
* Método legacy do dashboard implementado com paginação para buscar devoluções
* Filtro por loja funciona corretamente para devoluções

5- ✅ CONCLUÍDO - Separar no PDF do caixa a sangria feita manualmente caso tenha alguma retirada de dinheiro e vendas que foram feitas reembolso
Implementado:
* PDF agora separa SANGRIAS MANUAIS (retirada de dinheiro) em seção específica com cor laranja
* PDF cria seção REEMBOLSOS DE VENDAS com cor vermelha e lista dados (venda, cliente, valor)
* Adicionado card no dashboard de caixa mostrando CRÉDITO DO CLIENTE (vendas pagas com crédito)
* Tabela de movimentações agora identifica reembolsos via campo eh_reembolso
* Crédito cliente NÃO aparece no PDF (conforme solicitado) - apenas dados financeiros de sangria e reembolso 


6- ✅ CONCLUÍDO - Adicionar forma de pagamento credito cliente na OS

Implementado:
* Adicionado "Crédito do Cliente" como opção no Select de Forma de Pagamento no PagamentoOSModal
* Adicionado "Crédito do Cliente" no Select de Forma de Pagamento no OrdemServicoFormModal
* Atualizada função formatarFormaPagamento para suportar "credito_cliente"
* Compatível com sistema de crédito cliente já existente em Vendas
* Permite selecionar crédito cliente como forma de pagamento tanto na criação quanto na edição de OS

7- ✅ CONCLUÍDO - Verificação da Venda #10234 e Atualização Automática de Status

Venda #10234:
✅ Produto já foi dado baixa no estoque
✅ Status corrigido para "Concluída"

Implementado:
* Criada função trigger `atualizar_status_venda_apos_pagamento()` que atualiza automaticamente o status da venda
* Trigger acionado após INSERT, UPDATE ou DELETE em pagamentos_venda
* Lógica automática:
  - Se saldo_devedor <= 0 e valor_pago > 0 → status = "concluida"
  - Se valor_pago > 0 e saldo_devedor > 0 → status = "em_andamento"
  - Ignora vendas canceladas ou devolvidas
* Sistema agora atualiza status automaticamente quando pagamentos são adicionados/modificados
* Todas as vendas futuras terão status atualizado automaticamente sem intervenção manual

8- ✅ CONCLUÍDO - Remover informações de valores da aba Vendas e OS: dados financeiros

Implementado:
* Removidas colunas de valores da tabela de Vendas: TOTAL, PAGO, PAGAMENTOS, SALDO
* Removidas colunas de valores da tabela de Ordens de Serviço: VALOR, PAGAMENTOS
* Mantidas ações para visualizar detalhes (onde informações financeiras ainda estão disponíveis)
* Tabelas agora mostram apenas informações operacionais (número, cliente, status, data, etc)

9- ✅ CONCLUÍDO - Permitir mais de um aparelho na mesma OS

Implementado:
* Modal de gerenciamento de aparelhos (adicionar, editar, remover)
* Cada aparelho com: tipo, marca, modelo, série/IMEI, defeito, valores individuais
* Tabela ordem_servico_aparelhos com suporte a múltiplos aparelhos
* Sistema automático de soma: total por aparelho + total geral da OS
* Integração no card de detalhes da OS com botão "Gerenciar Aparelhos"
* Atualização de impressão de ORÇAMENTO com suporte a múltiplos aparelhos
* Atualização de impressão de GARANTIA com suporte a múltiplos aparelhos
* Compatibilidade com OS antigas (single device) mantida
* Service layer com 8 funções para CRUD e cálculos automáticos